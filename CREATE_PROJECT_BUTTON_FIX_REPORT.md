# ๐ ุชูุฑูุฑ ูุญุต ุนููู: ุฒุฑ "ุฅูุดุงุก ูุดุฑูุน"

## โ ุชู ุงูุชุดุงู ูุฅุตูุงุญ ูุฑู ุญุฑุฌ!

---

## ๐ฑ ุงูุชุทุจูู ุงููุญููู

### ุงููููุน:
- **ุงูุตูุญุฉ:** `Src/Screens/HomSub.tsx` (ุตูุญุฉ ูุดุงุฑูุน ุงููุฑุน)
- **ุงูุณุทุฑ:** 466-482

### ุงูููุฏ:
```javascript
<ButtonCreat
  styleButton={[
    styles.stylecreatproject,
    {
      display: user?.data?.jobdiscrption === 'ููุธู' ? 'flex' : 'none',
    },
  ]}
  onpress={async () => {
    if (await Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0)) {
      navigation.navigate('PageCreateProject', {
        IDCompanyBransh: IDCompanyBransh,
      });
    }
  }}
  text="ุงูุดุงุก ูุดุฑูุน"
/>
```

### ุงูููุทู:
1. โ **ุดุฑุท ุงูุธููุฑ:** `jobdiscrption === 'ููุธู'`
   - ุงูุฒุฑ ูุธูุฑ **ููุท ููููุธููู**

2. โ **ูุญุต ุงูุตูุงุญูุฉ ุนูุฏ ุงูุถุบุท:** `Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0)`
   - ููุญุต ุงูุตูุงุญูุฉ **ูุจู** ุงูุงูุชูุงู
   - ุฅุฐุง ูู ููู ูุฏูู ุตูุงุญูุฉุ ูุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ ููุง ููุชูู

---

## ๐ป ุงูููุจ

### ุงููููุน:
- **ุงูุตูุญุฉ:** `src/app/(dashboard)/branch/[id]/projects/page.tsx`
- **ุงูุณุทุฑ:** 747-760

### ุงูููุฏ (ูุจู ุงูุฅุตูุงุญ):
```typescript
{/* Create Project Button - Show for employees only like mobile app */}
<EmployeeOnly>
  <PermissionBasedVisibility permission="ุฅูุดุงุก ุงููุดุฑูุน">
    <button onClick={handleCreateProject}>
      ุฅูุดุงุก ูุดุฑูุน
    </button>
  </PermissionBasedVisibility>
</EmployeeOnly>

// Handler
const handleCreateProject = () => {
  router.push(`/project/create?branchId=${branchId}`);
};
```

### ุงูููุทู (ูุจู ุงูุฅุตูุงุญ):
1. โ **ุดุฑุท ุงูุธููุฑ:** `<EmployeeOnly>`
   - ุงูุฒุฑ ูุธูุฑ **ููุท ููููุธููู** โ

2. โ **ุดุฑุท ุงูุธููุฑ ุงูุฅุถุงูู:** `<PermissionBasedVisibility permission="ุฅูุดุงุก ุงููุดุฑูุน">`
   - ุงูุฒุฑ ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ "ุฅูุดุงุก ุงููุดุฑูุน" โ

3. โ **ูุญุต ุงูุตูุงุญูุฉ ุนูุฏ ุงูุถุบุท:** **ูุง ููุฌุฏ!**
   - ููุชูู ูุจุงุดุฑุฉ ุจุฏูู ูุญุต โ
   - ูุนุชูุฏ ููุท ุนูู ุฅุฎูุงุก ุงูุฒุฑ

---

## ๐ง ุงูุฅุตูุงุญ ุงููููุฐ

### ุงูููุฏ (ุจุนุฏ ุงูุฅุตูุงุญ):
```typescript
// Matching mobile app: HomSub.tsx line 474-479
// Check permission before navigating to create project page
const handleCreateProject = async () => {
  const hasPermission = await Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0);
  if (hasPermission) {
    router.push(`/project/create?branchId=${branchId}`);
  }
  // Error message is handled by Uservalidation
};
```

### ุงูููุทู (ุจุนุฏ ุงูุฅุตูุงุญ):
1. โ **ุดุฑุท ุงูุธููุฑ:** `<EmployeeOnly>` + `<PermissionBasedVisibility>`
2. โ **ูุญุต ุงูุตูุงุญูุฉ ุนูุฏ ุงูุถุบุท:** `Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0)`
   - ููุญุต ุงูุตูุงุญูุฉ **ูุจู** ุงูุงูุชูุงู
   - ุฅุฐุง ูู ููู ูุฏูู ุตูุงุญูุฉุ ูุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ ููุง ููุชูู
   - **ูุทุงุจู 100% ููุชุทุจูู ุงููุญููู** โ

---

## ๐ ุฌุฏูู ุงูููุงุฑูุฉ

| ุงูุฌุงูุจ | ุงูุชุทุจูู ุงููุญููู | ุงูููุจ (ูุจู) | ุงูููุจ (ุจุนุฏ) | ุงูุญุงูุฉ |
|--------|-----------------|-------------|-------------|--------|
| **ุดุฑุท ุงูุธููุฑ** | `jobdiscrption === 'ููุธู'` | `<EmployeeOnly>` | `<EmployeeOnly>` | โ ูุชุทุงุจู |
| **ุดุฑุท ุงูุธููุฑ ุงูุฅุถุงูู** | - | `<PermissionBasedVisibility>` | `<PermissionBasedVisibility>` | โ ุฅุถุงูู ูู ุงูููุจ |
| **ูุญุต ุงูุตูุงุญูุฉ ุนูุฏ ุงูุถุบุท** | `Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0)` | โ ูุง ููุฌุฏ | โ `Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0)` | โ **ุชู ุงูุฅุตูุงุญ** |
| **ุฑุณุงูุฉ ุงูุฎุทุฃ** | โ ุชุธูุฑ | โ ูุง ุชุธูุฑ | โ ุชุธูุฑ | โ **ุชู ุงูุฅุตูุงุญ** |

---

## โ๏ธ ููุงุฐุง ูุฐุง ุงูุฅุตูุงุญ ูููุ

### ุงููุดููุฉ ูุจู ุงูุฅุตูุงุญ:
1. **ุงูุงุนุชูุงุฏ ููุท ุนูู ุฅุฎูุงุก ุงูุฒุฑ:**
   - ุฅุฐุง ุชู ุงุณุชุฏุนุงุก `handleCreateProject` ุจุทุฑููุฉ ุฃุฎุฑู (ูุซู ุงุฎุชุตุงุฑ ููุญุฉ ุงูููุงุชูุญุ ุฑุงุจุท ูุจุงุดุฑุ ุฃู ุชูุงุนุจ ูู ุงูููุฏ)
   - ุณููุชูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ุฅูุดุงุก ุงููุดุฑูุน **ุจุฏูู ูุญุต ุงูุตูุงุญูุฉ**

2. **ุนุฏู ูุฌูุฏ ุฑุณุงูุฉ ุฎุทุฃ:**
   - ุฅุฐุง ุถุบุท ุงููุณุชุฎุฏู ุนูู ุงูุฒุฑ (ูู ุญุงูุฉ ูุฌูุฏ ุฎุทุฃ ูู ุฅุฎูุงุก ุงูุฒุฑ)
   - ูู ูุนุฑู ููุงุฐุง ูู ููุชูู ุฃู ุณููุชูู ุจุฏูู ุตูุงุญูุฉ

### ุงูุญู ุจุนุฏ ุงูุฅุตูุงุญ:
1. โ **ุทุจูุฉ ุญูุงูุฉ ุฅุถุงููุฉ:**
   - ุญุชู ูู ุชู ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ ุจุทุฑููุฉ ุบูุฑ ูุชููุนุฉุ ุณูุชู ูุญุต ุงูุตูุงุญูุฉ

2. โ **ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ:**
   - ุฅุฐุง ูู ููู ูุฏูู ุตูุงุญูุฉุ ุณูุฑู ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ ูู `Uservalidation`

3. โ **ูุทุงุจูุฉ ูุงููุฉ ููุชุทุจูู ุงููุญููู:**
   - ููุณ ุงูููุทูุ ููุณ ุงูุณูููุ ููุณ ุฑุณุงุฆู ุงูุฎุทุฃ

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ูุจู ุงูุฅุตูุงุญ:
- โ **ูุฑู ุญุฑุฌ:** ุงูููุจ ูุง ููุญุต ุงูุตูุงุญูุฉ ุนูุฏ ุงูุถุบุท ุนูู ุงูุฒุฑ
- โ๏ธ **ุซุบุฑุฉ ุฃูููุฉ ูุญุชููุฉ:** ูููู ุงููุตูู ูุตูุญุฉ ุงูุฅูุดุงุก ุจุฏูู ุตูุงุญูุฉ

### ุจุนุฏ ุงูุฅุตูุงุญ:
- โ **ูุทุงุจูุฉ 100%:** ุงูููุจ ููุญุต ุงูุตูุงุญูุฉ ูุซู ุงูุชุทุจูู ุงููุญููู ุชูุงูุงู
- โ **ุฃูุงู ูุญุณูู:** ุทุจูุฉ ุญูุงูุฉ ุฅุถุงููุฉ ูุจู ุงูุงูุชูุงู
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู:** ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

---

## ๐ ุงูููู ุงููุนุฏู

### `src/app/(dashboard)/branch/[id]/projects/page.tsx`

**ุงูุชุนุฏูู:**
- โ ุฅุถุงูุฉ ูุญุต ุตูุงุญูุฉ `Uservalidation('ุฅูุดุงุก ุงููุดุฑูุน', 0)` ูู `handleCreateProject`
- โ ุชุญููู ุงูุฏุงูุฉ ุฅูู `async` ููุณูุงุญ ุจูุญุต ุงูุตูุงุญูุฉ
- โ ุฅุถุงูุฉ ุชุนููู ูุดูุฑ ุฅูู ุงูุณุทุฑ ุงููุทุงุจู ูู ุงูุชุทุจูู ุงููุญููู

---

## โ ููุชุญูู

### ุงุฎุชุจุงุฑ 1: ููุธู ูุฏูู ุตูุงุญูุฉ "ุฅูุดุงุก ุงููุดุฑูุน"
```bash
1. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ ููุธู ูุฏูู ุตูุงุญูุฉ "ุฅูุดุงุก ุงููุดุฑูุน"
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ูุดุงุฑูุน ุงููุฑุน
3. โ ุงูุฒุฑ ูุธูุฑ
4. ุงุถุบุท ุนูู "ุฅูุดุงุก ูุดุฑูุน"
5. โ ููุญุต ุงูุตูุงุญูุฉ
6. โ ููุชูู ุฅูู ุตูุญุฉ ุฅูุดุงุก ุงููุดุฑูุน
```

### ุงุฎุชุจุงุฑ 2: ููุธู ููุณ ูุฏูู ุตูุงุญูุฉ "ุฅูุดุงุก ุงููุดุฑูุน"
```bash
1. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ ููุธู ููุณ ูุฏูู ุตูุงุญูุฉ "ุฅูุดุงุก ุงููุดุฑูุน"
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ูุดุงุฑูุน ุงููุฑุน
3. โ ุงูุฒุฑ ูุฎูู (ุจุณุจุจ PermissionBasedVisibility)
4. ุฅุฐุง ุชู ุงุณุชุฏุนุงุก handleCreateProject ุจุทุฑููุฉ ูุง:
5. โ ููุญุต ุงูุตูุงุญูุฉ
6. โ ูุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ "ุบูุฑ ูุตุฑุญ ูู ุจูุฐุง ุงูุฅุฌุฑุงุก"
7. โ ูุง ููุชูู ุฅูู ุตูุญุฉ ุงูุฅูุดุงุก
```

### ุงุฎุชุจุงุฑ 3: ูุณุชุฎุฏู ุบูุฑ ููุธู
```bash
1. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ Admin ุฃู ูุฏูุฑ ูุฑุน
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ูุดุงุฑูุน ุงููุฑุน
3. โ ุงูุฒุฑ ูุฎูู (ุจุณุจุจ EmployeeOnly)
```

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** 2025-10-02  
**ุงูุญุงูุฉ:** โ **ุชู ุงูุฅุตูุงุญ - ูุทุงุจู 100%**

๐ **ุงูุขู ุฒุฑ "ุฅูุดุงุก ูุดุฑูุน" ูุนูู ุจููุณ ุงูุทุฑููุฉ ูู ุงูููุจ ูุงูุชุทุจูู ุงููุญููู!** ๐

